<%- include('bootheader') -%>
<%- include('menubar') -%>
<div class="p-lg-5 p-4 mb-4 bg-light">
  <div class="container-fluid ">
    <h1>Problem Search Page
    </h1>
    <hr>
    <form action="/searchProblems/<%= courseId%>/<%=psetId%>" method="post">
      <div class="form-group">
        <label for="search">Search for Problems</label>
        <input type="text" class="form-control" id="search" name="search" placeholder="Enter search term">
      </div>
      <button type="submit" class="btn btn-primary">Search</button>
    </form>
    
    <% if (problems.length > 0) { 
        problems.forEach(problem => { %>
        <li>
            <h1><%= problem.problemId.description %></h1>
            <a href="/showCatalogProblem/<%= courseId %>/<%= psetId %>/<%= problem.problemId._id %>"><%= problem.tags %></a>
            <pre
><%= problem.problemId.problemText %></pre>
            <hr>
        </li>
      <% }); %>  
    <% }  %>
    </ul>
    <h2>Skills in the course</h2>
    <ul>
      <% if (skills.length > 0) { 
        skills.forEach(skill => { %>
        <li>
            <a href="/showSkill/<%= skill.courseId %>/<%= skill._id %>"><%= skill.name %></a>
        </li>
      <% })}; %>
    <ul>
    <pre><%= JSON.stringify(problems,null,5)%> </pre>
  </div>
</div>

<%- include('bootfooter') -%>
<%- include('htmlfoot') -%>